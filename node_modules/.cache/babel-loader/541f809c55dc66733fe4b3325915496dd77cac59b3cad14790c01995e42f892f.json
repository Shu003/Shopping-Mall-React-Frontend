{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shubh\\\\OneDrive\\\\Desktop\\\\admin_panel\\\\mall-admin-panel\\\\src\\\\components\\\\items\\\\ItemForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport itemApi from \"../../api/itemApi\";\nimport mallApi from \"../../api/shopApi\";\nimport \"./item.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ItemForm({\n  item,\n  onClose\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    manufacturing: \"\",\n    expiry: \"\",\n    price: \"\",\n    category: \"\",\n    mallId: \"\"\n  });\n  const [malls, setMalls] = useState([]);\n\n  // Load all malls for dropdown\n  useEffect(() => {\n    mallApi.getAllMalls().then(res => setMalls(res.data)).catch(() => alert(\"Failed to load malls\"));\n  }, []);\n\n  // Populate form if editing\n  useEffect(() => {\n    if (item) {\n      setFormData({\n        name: item.name || \"\",\n        manufacturing: item.manufacturing || \"\",\n        expiry: item.expiry || \"\",\n        price: item.price || \"\",\n        category: item.category || \"\",\n        mallId: item.mall ? item.mall.id : \"\"\n      });\n    }\n  }, [item]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.name || !formData.price || !formData.mallId) {\n      alert(\"Please fill all required fields: Name, Price, and Mall.\");\n      return;\n    }\n    const payload = {\n      ...formData,\n      price: parseFloat(formData.price),\n      mall: {\n        id: formData.mallId\n      }\n    };\n    delete payload.mallId;\n    const request = item ? itemApi.updateItem(item.id, payload) : itemApi.addItem(payload);\n    request.then(() => {\n      alert(`Item ${item ? \"updated\" : \"added\"} successfully.`);\n      onClose();\n    }).catch(() => alert(`Failed to ${item ? \"update\" : \"add\"} item.`));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: item ? \"Edit Item\" : \"Add New Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name*:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Manufacturing Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"manufacturing\",\n          value: formData.manufacturing,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Expiry Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"expiry\",\n          value: formData.expiry,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Price*:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          name: \"price\",\n          value: formData.price,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Category:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          value: formData.category,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Mall*:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"mallId\",\n          value: formData.mallId,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Mall\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), malls.map(mall => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: mall.id,\n            children: mall.mallName\n          }, mall.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: item ? \"Update\" : \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(ItemForm, \"1k7l4vJtkYdbRLD8bdLO1+/cp3Y=\");\n_c = ItemForm;\nvar _c;\n$RefreshReg$(_c, \"ItemForm\");","map":{"version":3,"names":["React","useState","useEffect","itemApi","mallApi","jsxDEV","_jsxDEV","ItemForm","item","onClose","_s","formData","setFormData","name","manufacturing","expiry","price","category","mallId","malls","setMalls","getAllMalls","then","res","data","catch","alert","mall","id","handleChange","e","value","target","prev","handleSubmit","preventDefault","payload","parseFloat","request","updateItem","addItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","required","step","map","mallName","onClick","_c","$RefreshReg$"],"sources":["C:/Users/shubh/OneDrive/Desktop/admin_panel/mall-admin-panel/src/components/items/ItemForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport itemApi from \"../../api/itemApi\";\r\nimport mallApi from \"../../api/shopApi\";\r\nimport \"./item.css\";\r\n\r\nexport default function ItemForm({ item, onClose }) {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    manufacturing: \"\",\r\n    expiry: \"\",\r\n    price: \"\",\r\n    category: \"\",\r\n    mallId: \"\",\r\n  });\r\n\r\n  const [malls, setMalls] = useState([]);\r\n\r\n  // Load all malls for dropdown\r\n  useEffect(() => {\r\n    mallApi.getAllMalls()\r\n      .then(res => setMalls(res.data))\r\n      .catch(() => alert(\"Failed to load malls\"));\r\n  }, []);\r\n\r\n  // Populate form if editing\r\n  useEffect(() => {\r\n    if (item) {\r\n      setFormData({\r\n        name: item.name || \"\",\r\n        manufacturing: item.manufacturing || \"\",\r\n        expiry: item.expiry || \"\",\r\n        price: item.price || \"\",\r\n        category: item.category || \"\",\r\n        mallId: item.mall ? item.mall.id : \"\",\r\n      });\r\n    }\r\n  }, [item]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!formData.name || !formData.price || !formData.mallId) {\r\n      alert(\"Please fill all required fields: Name, Price, and Mall.\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      ...formData,\r\n      price: parseFloat(formData.price),\r\n      mall: { id: formData.mallId },\r\n    };\r\n\r\n    delete payload.mallId;\r\n\r\n    const request = item\r\n      ? itemApi.updateItem(item.id, payload)\r\n      : itemApi.addItem(payload);\r\n\r\n    request\r\n      .then(() => {\r\n        alert(`Item ${item ? \"updated\" : \"added\"} successfully.`);\r\n        onClose();\r\n      })\r\n      .catch(() => alert(`Failed to ${item ? \"update\" : \"add\"} item.`));\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h3>{item ? \"Edit Item\" : \"Add New Item\"}</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Name*:\r\n          <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} required />\r\n        </label>\r\n\r\n        <label>\r\n          Manufacturing Date:\r\n          <input type=\"date\" name=\"manufacturing\" value={formData.manufacturing} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label>\r\n          Expiry Date:\r\n          <input type=\"date\" name=\"expiry\" value={formData.expiry} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label>\r\n          Price*:\r\n          <input type=\"number\" step=\"0.01\" name=\"price\" value={formData.price} onChange={handleChange} required />\r\n        </label>\r\n\r\n        <label>\r\n          Category:\r\n          <input type=\"text\" name=\"category\" value={formData.category} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label>\r\n          Mall*:\r\n          <select name=\"mallId\" value={formData.mallId} onChange={handleChange} required>\r\n            <option value=\"\">Select Mall</option>\r\n            {malls.map(mall => (\r\n              <option key={mall.id} value={mall.id}>{mall.mallName}</option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <div className=\"form-buttons\">\r\n          <button type=\"submit\">{item ? \"Update\" : \"Add\"}</button>\r\n          <button type=\"button\" onClick={onClose}>Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}